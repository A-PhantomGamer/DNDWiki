<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>World - D&D Campaign Wiki</title>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&family=Lato:wght@300;400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="css/dm-mode.css">
    <link rel="stylesheet" href="css/world.css">
</head>
<body>
    <main>
        <section id="world">
            <h2>World Overview</h2>
            
            <div class="world-tabs">
                <button class="tab-btn active" data-tab="map">Interactive Map</button>
                <button class="tab-btn" data-tab="locations">Key Locations</button>
                <button class="tab-btn" data-tab="factions">Factions & Powers</button>
                <button class="tab-btn" data-tab="calendar">Calendar & Time</button>
            </div>

            <!-- Interactive Map Tab -->
            <div id="map-content" class="tab-content active">
                <div class="map-container">
                    <div id="world-map">
                        <!-- Map will be loaded here -->
                        <img src="img/world-map.jpg" alt="World Map" id="map-image">
                        <div id="map-pins"></div>
                    </div>
                    <div class="map-controls">
                        <button id="add-pin" class="dm-only">Add POI</button>
                        <div class="map-legend">
                            <h4>Legend</h4>
                            <ul id="poi-list">
                                <!-- POIs will be listed here -->
                            </ul>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Key Locations Tab -->
            <div id="locations-content" class="tab-content">
                <div class="locations-grid">
                    <div class="location-filters">
                        <select id="location-type">
                            <option value="all">All Types</option>
                            <option value="city">Cities</option>
                            <option value="town">Towns</option>
                            <option value="landmark">Landmarks</option>
                            <option value="dungeon">Dungeons</option>
                        </select>
                    </div>
                    <div id="locations-list">
                        <!-- Locations will be loaded here -->
                    </div>
                </div>
            </div>

            <!-- Factions Tab -->
            <div id="factions-content" class="tab-content">
                <div class="factions-container">
                    <div class="faction-filters">
                        <select id="faction-type">
                            <option value="all">All Factions</option>
                            <option value="political">Political</option>
                            <option value="religious">Religious</option>
                            <option value="mercantile">Mercantile</option>
                            <option value="criminal">Criminal</option>
                        </select>
                    </div>
                    <div id="factions-grid">
                        <!-- Factions will be loaded here -->
                    </div>
                </div>
            </div>

            <!-- Calendar Tab -->
            <div id="calendar-content" class="tab-content">
                <div class="calendar-container">
                    <div class="current-time">
                        <h3>Current Campaign Time</h3>
                        <div class="time-display">
                            <span id="current-date">Day 1, Month 1, Year 1</span>
                            <span id="current-time">Dawn</span>
                        </div>
                    </div>
                    <div class="calendar-grid">
                        <div class="month-selector">
                            <button id="prev-month">&lt;</button>
                            <h4 id="current-month">Month 1</h4>
                            <button id="next-month">&gt;</button>
                        </div>
                        <div id="calendar-days">
                            <!-- Calendar days will be generated here -->
                        </div>
                    </div>
                    <div class="time-events dm-only">
                        <h4>Add Time Event</h4>
                        <form id="add-event-form">
                            <input type="text" id="event-title" placeholder="Event Title">
                            <textarea id="event-description" placeholder="Event Description"></textarea>
                            <button type="submit">Add Event</button>
                        </form>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <button class="dm-mode-toggle" id="dm-mode-toggle">DM Mode</button>
    
    <div id="dm-password-modal" class="modal">
        <div class="modal-content">
            <h3>DM Authentication</h3>
            <div class="form-group">
                <label for="dm-password">Enter DM Password</label>
                <input type="password" id="dm-password" class="form-control">
            </div>
            <button class="btn btn-primary" id="verify-password">Verify</button>
            <button class="btn" id="cancel-password">Cancel</button>
        </div>
    </div>

    <script src="js/components.js"></script>
    <script src="js/dm-mode.js"></script>
    <script src="js/world.js"></script>
</body>
</html>